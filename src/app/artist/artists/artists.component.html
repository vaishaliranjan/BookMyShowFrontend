<!-- <app-header></app-header>
<p-toast></p-toast>
<p-table [value]="artists" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th>Artist Name</th>
        <th>Timings</th>
        <th>Available</th>
        <th></th>
      </tr>
    </ng-template>
  
    <ng-template pTemplate="body" let-artist>
      <tr>
        <td>{{ artist.name }}</td>
        <td>{{ artist.timing }}</td>
        <td>{{ artist.isBooked? "No":"Yes" }}</td>
        <td><p-button label="Book" [disabled]="artist.isBooked" (click)="OnSelectArtist(artist)"></p-button></td>
      </tr>
    </ng-template>
  </p-table>

  <p-button label="Add New Artist" (click)="OnAddNewArtist()"></p-button>
  <p-dialog header="Header" [(visible)]="showAddArtistDialog" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    <p class="m-0">
      <label for="artistName" class="block text-900 font-medium mb-2">Artist Name: </label>
      <input id="artistName" type="text" placeholder="Name of Artist" pInputText class="w-full mb-3" [(ngModel)]="artistName">
      <label for="artistUsername" class="block text-900 font-medium mb-2">Artist Username: </label>
      <input id="artistUsername" type="text" placeholder="Username of Artist" pInputText class="w-full mb-3" [(ngModel)]="artistUsername">
      <label for="timing" class="block text-900 font-medium mb-2">Timing: </label>
      <input id="timing" type="datetime-local" class="w-full mb-3" name="timing" [(ngModel)]="timing">
      
      
      <p-button label="Add" class="p-button-success mr-1" (click)="AddNewArtist()"></p-button>
      

      <p-button label="Cancel" (click)="CancelAddArtist()"></p-button>
    </p>
  </p-dialog>
   -->

<app-header></app-header>
<p-toast position="top-right"></p-toast>

<div class="container">
  <h2 class="text-center mb-4 heading-style">Artists: </h2>
  <table class="table table-bordered m-50" style="min-width: 50rem;">
    <thead style="background-color: red; color: white;">
      <tr>
        <th class="text-center">S. No.</th>
        <th class="text-center">Artist Name</th>
        <th class="text-center">Timings</th>
        <th class="text-center">Available</th>
        <th class="text-center">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let artist of artists; index as i">
        <td class="text-center">{{ i+1 }}</td>
        <td class="text-center">{{ artist.name }}</td>
        <td class="text-center">{{ artist.timing }}</td>
        <td class="text-center">{{ artist.isBooked ? 'No' : 'Yes' }}</td>
        <td class="text-center"><button pButton label="Book" class="button-size" [disabled]="artist.isBooked || authService.getCookies()!=='organizer'" (click)="OnSelectArtist(artist)"></button></td>
      </tr>
    </tbody>
  </table>

  <button pButton label="Add New Artist" *ngIf="authService.getCookies()!=='organizer'" class="button-size" (click)="OnAddNewArtist()"></button>
  <p-dialog  [(visible)]="showAddArtistDialog" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    <p class="m-0">
      <label for="" class="dialog-label block">Add New Artist: </label>
      <label for="artistName" class="dialog-text">Artist Name:</label>
      <input id="artistName" type="text" placeholder="Name of Artist" pInputText class="w-full mb-3" [(ngModel)]="artistName">
      <label for="artistUsername" class="dialog-text">Artist Username:</label>
      <input id="artistUsername" type="text" placeholder="Username of Artist" pInputText class="w-full mb-3" [(ngModel)]="artistUsername">
      <label for="timing" class="dialog-text">Timing:</label>
      <input id="timing" type="datetime-local" class="w-full mb-3" name="timing" [(ngModel)]="timing">
      
      <button pButton label="Add" class="button-size-dialog mr-2" (click)="AddNewArtist()"></button>
      <button pButton label="Cancel" class="button-size-dialog" (click)="CancelAddArtist()"></button>
    </p>
  </p-dialog>
</div>
